(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{134:function(e,t,a){e.exports=a(230)},139:function(e,t,a){},140:function(e,t,a){},167:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=a(87),s=a(11),i=a(8),m=(a(139),a(256)),u=a(252),p=a(257),d=a(254);const g=Object(n.createContext)();function b({children:e}){const t=Object(n.useState)(JSON.parse(localStorage.getItem("userData"))||null),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)(()=>{localStorage.setItem("userData",JSON.stringify(c))},[c]),r.a.createElement(g.Provider,{value:[c,l]},e)}a(140);var E=a(17),h=a.n(E);var f=()=>{const e=Object(n.useContext)(g),t=Object(i.a)(e,2),a=t[0];t[1];return r.a.createElement(m.a,{id:"navbar",bg:"transparent",expand:"lg"},r.a.createElement(u.a,null,r.a.createElement(m.a.Brand,{id:"brandName",href:"/"},"STORY"),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(p.a,{id:"navLinks",className:"ml-auto"},r.a.createElement(p.a.Link,{href:"/"},"Home"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Link,{href:"/blog/create"},"Create Blog"),r.a.createElement(d.a,{title:"User",id:"basic-nav-dropdown"},r.a.createElement(d.a.Item,null,a.username),r.a.createElement(d.a.Item,{href:"/user/blogs"},"Your Blogs"),r.a.createElement(d.a.Divider,null),r.a.createElement(d.a.Item,{onClick:function(e){e.preventDefault(),h.a.get("https://projectblogwebapp.herokuapp.com/users/logout"),localStorage.removeItem("userData"),window.location="/"},href:"/users/logout"},"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Link,{href:"/users/login"},"Login"),r.a.createElement(p.a.Link,{href:"/users/register"},"SignUp"))))))},v=a(253),j=a(255),O=a(16),N=a.n(O),w=a(29);const y=Object(n.createContext)();function C({children:e}){const t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useCallback)(Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://projectblogwebapp.herokuapp.com").then(e=>l(e.data));case 2:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)(()=>{o()},[o]),r.a.createElement(y.Provider,{value:[c,l]},e)}var x=function(){const e=Object(n.useContext)(y),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useContext)(g)),l=Object(i.a)(c,2),o=l[0];return l[1],r.a.createElement("div",{className:"main_home"},r.a.createElement(f,null),r.a.createElement(v.a,{fixed:!0},a.map((e,t)=>r.a.createElement("div",{className:"mycard",key:t},r.a.createElement("img",{className:"mycard_img",alt:"random",src:e.imageUrl}),r.a.createElement("div",{className:"mycard_body"},r.a.createElement("h1",{className:"mycard_title"},e.title),r.a.createElement("p",{className:"mycard_text"},e.description.substring(0,100)," ..."),r.a.createElement("div",{className:"dateHome"},r.a.createElement("p",{className:"inner-date"},e.date.substring(0,10))),r.a.createElement(j.a,{id:"mycard_btn",variant:"outlined",href:o?"/".concat(e._id):"/users/login"},"Read More..."))))))},k=a(123),S=a.n(k),_=(a(165),a(122)),U=a.n(_),B=a(258);a(167);var I=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),s=o[0],m=o[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),b=d[0],E=d[1],v=Object(n.useState)(new Date),O=Object(i.a)(v,2),N=O[0],w=O[1],y=Object(n.useContext)(g),C=Object(i.a)(y,2),x=C[0];return C[1],r.a.createElement("div",{className:"main_create"},r.a.createElement(f,null),r.a.createElement(u.a,null,r.a.createElement("h1",{className:"title_create"},"Write your Stories or Thoughts"),r.a.createElement(B.a,{id:"form"},r.a.createElement("input",{className:"titleInput",placeholder:"Title",value:a,name:"title",onChange:function(e){c(e.target.value)},required:"true"}),r.a.createElement("textarea",{className:"descInput",placeholder:"Description","aria-label":"minimum height",rowsMin:5,value:s,name:"description",onChange:function(e){m(e.target.value)},required:!0}),r.a.createElement("input",{className:"imageInput",placeholder:"Image URL",value:b,name:"imageurl",onChange:function(e){E(e.target.value),console.log(b)},required:!0}),r.a.createElement(S.a,{id:"dateSelector",selected:N,onChange:function(e){w(e)},closeOnScroll:!0,dateFormat:"dd/MM/yyyy"}),r.a.createElement(j.a,{id:"btn_create",type:"submit",onClick:function(e){e.preventDefault();const t={title:a,description:s,imageUrl:b,date:N,createdBy:x};h.a.post("https://projectblogwebapp.herokuapp.com/create",t).then(e=>console.log(e.data)).catch(e=>console.log(e.res)),window.location="/",U()({title:"SUCCESSFULLY CREATED A BLOG",icon:"success"}),console.log(t)}},"Publish"))))},D=(a(223),a(126)),L=a.n(D),T=a(127),M=a.n(T);var R=function(e){const t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useContext)(g),s=Object(i.a)(o,2),m=s[0];s[1];let p=e.match.params.id;function d(e){h.a.delete("https://projectblogwebapp.herokuapp.com/".concat(e,"/update")).then(e=>console.log(e.data)),l(c.filter(t=>t._id!==e)),window.location="/"}Object(n.useEffect)(()=>{function e(){return(e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://projectblogwebapp.herokuapp.com/".concat(p)).then(e=>l([e.data]));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);const b=c.map(e=>e.createdBy.id),E=JSON.stringify(b)==='["'+m.id+'"]';return r.a.createElement("div",{className:"main_blog"},r.a.createElement(f,null),r.a.createElement(u.a,null,c.map((e,t)=>r.a.createElement("div",{key:t,className:"mainblog_body"},r.a.createElement("h1",{className:"title"},e.title),r.a.createElement("p",{className:"dateMain"},e.date),r.a.createElement("p",{className:"dateMain"},"Created By: ",e.createdBy.username),r.a.createElement("img",{className:"image",alt:"random",src:e.imageUrl}),r.a.createElement("p",{className:"description"},e.description),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"btns"},r.a.createElement(j.a,{id:"btn1",variant:"outlined",href:"/".concat(p,"/update")},"Edit blog"),r.a.createElement(j.a,{id:"btn2",variant:"outlined",onClick:d},"Delete blog")),r.a.createElement("div",{className:"icons"},r.a.createElement("a",{href:"/".concat(p,"/update")},r.a.createElement(L.a,{id:"icon1"})),r.a.createElement(M.a,{id:"icon2",onClick:d}))):null))))},q=a(45);a(224);var P=function(e){const t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1];let o=e.match.params.id;function s(){return(s=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h()({method:"POST",data:c,url:"https://projectblogwebapp.herokuapp.com/".concat(o,"/update")}).then(e=>console.log(e.data));case 3:window.location="/".concat(o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(()=>{function e(){return(e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://projectblogwebapp.herokuapp.com/".concat(o)).then(e=>l(e.data));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),r.a.createElement("div",{className:"update-main"},r.a.createElement(f,null),r.a.createElement(u.a,null,r.a.createElement("h1",null,"Update blogs here!"),r.a.createElement(B.a,{id:"update-form",justify:"center",alignItems:"center"},r.a.createElement("input",{className:"update-title",placeholder:"Title",value:c.title,name:"title",onChange:e=>l(Object(q.a)(Object(q.a)({},c),{},{title:e.target.value}))}),r.a.createElement("input",{className:"imageUrl_update",placeholder:"Image URL",value:c.imageUrl,name:"imageurl",onChange:e=>l(Object(q.a)(Object(q.a)({},c),{},{imageUrl:e.target.value}))}),r.a.createElement("textarea",{className:"description_update",placeholder:"Description",value:c.description,rows:"20",name:"description",onChange:e=>l(Object(q.a)(Object(q.a)({},c),{},{description:e.target.value}))}),r.a.createElement(j.a,{id:"btn-update",color:"primary",variant:"contained",onClick:function(e){return s.apply(this,arguments)}},"Edit Blog!"))))};a(225);var F=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],p=o[1],d=Object(n.useState)(""),g=Object(i.a)(d,2),b=g[0],E=g[1],v=Object(s.f)();function O(){return(O=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h()({method:"POST",data:{username:a,email:m,password:b},withCredentials:!0,url:"https://projectblogwebapp.herokuapp.com/users/register"}).then(e=>console.log(e));case 3:v.push("/users/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"main_register"},r.a.createElement(f,null),r.a.createElement(u.a,null,r.a.createElement("h1",{className:"title_register"},"Register"),r.a.createElement(B.a,{id:"form"},r.a.createElement("input",{className:"username",placeholder:"Username",value:a,name:"username",onChange:function(e){c(e.target.value)},required:"true"}),r.a.createElement("input",{className:"emailInput",placeholder:"Email Address",value:m,name:"email",onChange:function(e){p(e.target.value)},required:!0}),r.a.createElement("input",{className:"password",placeholder:"Password",type:"password",value:b,name:"password",onChange:function(e){E(e.target.value)}}),r.a.createElement(j.a,{id:"registerBtn",type:"submit",onClick:function(e){return O.apply(this,arguments)}},"Register"))))};a(227);var J=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],p=o[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),E=b[0],v=b[1],O=Object(n.useContext)(g),y=Object(i.a)(O,2),C=(y[0],y[1]),x=Object(s.f)();function k(){return(k=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h()({method:"POST",data:{username:a,email:m,password:E},withCredentials:!0,url:"https://projectblogwebapp.herokuapp.com/users/login"}).then(e=>C(e.data));case 3:x.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"main_login"},r.a.createElement(f,null),r.a.createElement(u.a,null,r.a.createElement("h1",{className:"title_login"},"Login"),r.a.createElement(B.a,{id:"form"},r.a.createElement("input",{className:"username",placeholder:"Username",value:a,name:"username",onChange:function(e){c(e.target.value)},required:"true"}),r.a.createElement("input",{className:"emailInput",placeholder:"Email Address",value:m,name:"email",onChange:function(e){p(e.target.value)},required:!0}),r.a.createElement("input",{className:"password",placeholder:"password",type:"password",value:E,name:"password",onChange:function(e){v(e.target.value)}}),r.a.createElement(j.a,{id:"loginBtn",type:"submit",onClick:function(e){return k.apply(this,arguments)}},"Login"))))};a(228);function A(){const e=Object(n.useContext)(y),t=Object(i.a)(e,2),a=t[0],c=(t[1],Object(n.useContext)(g)),l=Object(i.a)(c,2),o=l[0],s=(l[1],a.filter(e=>e.createdBy.id===o.id)||null);return console.log(s),r.a.createElement("div",{className:"userBlogs-main"},r.a.createElement(f,null),r.a.createElement(v.a,{fixed:!0},r.a.createElement("h1",null,"Your Blogs"),s.map((e,t)=>r.a.createElement("div",{className:"mycard"},r.a.createElement("img",{className:"mycard_img",alt:"random",src:e.imageUrl}),r.a.createElement("div",{className:"mycard_body"},r.a.createElement("h1",{className:"mycard_title"},e.title),r.a.createElement("p",{className:"mycard_text"},e.description.substring(0,100)," ..."),r.a.createElement("div",{className:"dateHome"},r.a.createElement("p",{className:"inner-date"},e.date.substring(0,10))),r.a.createElement(j.a,{id:"mycard_btn",variant:"outlined",href:"/".concat(e._id)},"Read More..."))))))}a(229);function Y(e){return r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,r.a.createElement(b,null,r.a.createElement(s.a,{exact:!0,path:"/",component:x}),r.a.createElement(s.a,{exact:!0,path:"/blog/create",component:I}),r.a.createElement(s.a,{exact:!0,path:"/:id",component:R}),r.a.createElement(s.a,{exact:!0,path:"/:id/update",component:P}),r.a.createElement(s.a,{exact:!0,path:"/users/register",component:F}),r.a.createElement(s.a,{exact:!0,path:"/users/login",component:J}),r.a.createElement(s.a,{exact:!0,path:"/user/blogs",component:A}))))))}const H=document.getElementById("root");l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),H)}},[[134,1,2]]]);
//# sourceMappingURL=main.97b284cb.chunk.js.map